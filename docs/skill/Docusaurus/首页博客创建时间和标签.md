---
# æ–‡æ¡£IDï¼Œå”¯ä¸€æ ‡è¯†ç¬¦
id: Docusaurus-blogtime-tag

# æ–‡æ¡£çš„URLè·¯å¾„æ ‡è¯†ç¬¦ï¼Œç”¨äºç”Ÿæˆæ–‡æ¡£URL
slug: /Docusaurus-blogtime-tag

# æ–‡æ¡£æ ‡é¢˜ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢æ ‡é¢˜
title: é¦–é¡µåšå®¢åˆ›å»ºæ—¶é—´å’Œæ ‡ç­¾

# å‘å¸ƒæ—¥æœŸï¼Œç”¨äºæ—¶é—´æ’åº
date: 2024/08/27

# ä½œè€…åç§°
author: Hyde

# æœ€åæ›´æ–°æ—¥æœŸï¼Œç”¨äºæ—¶é—´æ’åº
last_update:
  date: 2024-08-27

# å…³é”®è¯ï¼Œç”¨äºSEOä¼˜åŒ–
keywords: [docusaurus]

# æ–‡ç« æ ‡ç­¾ï¼Œå¸®åŠ©åˆ†ç±»
tags: [docusaurus, blogtime-tag ]
---

## 1.é…ç½®æ–¹æ³•
- åœ¨`src\components\landing\BlogSection\index.tsx`ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š
```tsx
import Link from '@docusaurus/Link'
import Translate from '@docusaurus/Translate'
import type { BlogPost } from '@docusaurus/plugin-content-blog'
import { usePluginData } from '@docusaurus/useGlobalData'
import { cn } from '@site/src/lib/utils'
import Image from '@theme/IdealImage'
import { motion, useScroll, useTransform } from 'framer-motion'
import React from 'react'
import { Section } from '../Section'

const chunk = (arr, size) =>
  Array.from({ length: Math.ceil(arr.length / size) }, (_, i) => arr.slice(i * size, i * size + size))

const BLOG_POSTS_COUNT = 6
const BLOG_POSTS_PER_ROW = 2

export function BlogItem({ post }: { post: BlogPost }) {
  const {
    // highlight-next-line
    metadata: { permalink, frontMatter, title, description, date, tags },
  } = post
    // highlight-next-line
  const truncatedDescription = description.length > 100 ? `${description.slice(0, 100)}...` : description

  return (
    <motion.li
      className={cn('card', 'margin-bottom--md flex w-full bg-blog shadow-blog')}
      key={permalink}
      initial={{ y: 100, opacity: 0.001 }}
      whileInView={{ y: 0, opacity: 1, transition: { duration: 0.5 } }}
      whileHover={{ y: -10, transition: { duration: 0.3 } }}
      viewport={{ once: true }}
    // highlight-start
      style={{
        border: '1px solid #ccc', // é»˜è®¤è¾¹æ¡†æ ·å¼
        borderRadius: '12px', // åœ†è§’è¾¹æ¡†
        overflow: 'hidden',
      }}
    // highlight-end
    >
      {frontMatter.image && (
        // highlight-start
        // å¦‚æœfrontMatter.imageå­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªLinkç»„ä»¶ï¼ŒæŒ‡å‘permalinkï¼Œå¹¶è®¾ç½®classNameä¸ºcursor-pointer overflow-hidden
        <Link href={permalink} className="w-full cursor-pointer overflow-hidden">
          <Image
            // åˆ›å»ºä¸€ä¸ªImageç»„ä»¶ï¼Œsrcä¸ºfrontMatter?.imageï¼Œaltä¸ºtitleï¼Œimgä¸ºç©ºå­—ç¬¦ä¸²ï¼ŒclassNameä¸ºobject-cover w-full h-autoï¼Œstyleä¸ºmaxHeight: '150px'
            src={frontMatter?.image}
            alt={title}
            img={''}
            className="object-cover w-full h-auto"
            style={{ maxHeight: '150px' }}
          />
        // highlight-end
        </Link>
      )}
      // highlight-start
      <div className={'card__body p-2'} style={{ padding: '8px' }}>
        {/* // è®¾ç½®card__bodyçš„æ ·å¼ï¼ŒåŒ…æ‹¬å†…è¾¹è·ä¸º8px */}
        <h4 className="text-base" style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>
        // highlight-end  
          <Link href={permalink} className="relative hover:no-underline">
            {title}
          </Link>
        </h4>
        // highlight-start
        <p className="text-sm" style={{ marginBottom: '4px' }}>{truncatedDescription}</p>
        {/* åˆ›å»ºæ—¶é—´ */}
        <div className="flex justify-between items-center mt-2">
          <p className="text-xs text-gray-500">{`åˆ›å»ºæ—¶é—´: ${new Date(date).toLocaleDateString()}`}</p>
          {/* æ ‡ç­¾ */}
          <div className="flex flex-wrap gap-1">
            {tags.map(tag => (
              <span key={tag.label} className="text-xs bg-gray-200 text-gray-700 rounded px-2 py-1">
                {tag.label}
              </span>
            ))}
          </div>
        </div>
        // highlight-end
      </div>
    </motion.li>
  )
}

export default function BlogSection(): JSX.Element {
  const blogData = usePluginData('docusaurus-plugin-content-blog') as {
    posts: BlogPost[]
    postNum: number
    tagNum: number
  }

  const posts = chunk(blogData.posts.slice(0, BLOG_POSTS_COUNT), BLOG_POSTS_PER_ROW)

  const ref = React.useRef<HTMLDivElement>(null)

  const { scrollYProgress } = useScroll()
  const y = useTransform(scrollYProgress, [0, 0.5, 1], [20, 0, -20], {
    clamp: false,
  })

  if (blogData.postNum === 0) {
    return <>ä½œè€…è¿˜æ²¡å¼€å§‹å†™åšæ–‡å“¦...</>
  }

  return (
    <Section title={<Translate id="homepage.blog.title">ğŸ‰ è¿‘æœŸåšå®¢</Translate>} href={'/blog'}>
      <div ref={ref} className="flex flex-col gap-4 overflow-hidden rounded-card p-3 md:grid md:grid-cols-12">
        {posts.map((postGroup, index) => (
          // è®¾ç½®åˆ—è·¨åº¦ä¸º6ï¼Œåœ¨å¤§å‹è®¾å¤‡ä¸Šä¸º4
          // highlight-next-line
          <div className="col-span-6 lg:col-span-4" key={index}>
            {postGroup.map((post, i) => (
              <motion.div style={{ y: i / 2 ? y : 0 }} key={i}>
                <BlogItem key={post.id} post={post} />
              </motion.div>
            ))}
          </div>
        ))}
      </div>
    </Section>
  )
}
```